<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"   
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.dudu.soa.basedata.sms.mapper.SendSmsDao">

<resultMap type="com.dudu.soa.message.basedata.sms.module.AccessKey" id="accessKey">
<id property="id" column="id"/>
<result property="appkey" column="appkey"/>
<result property="appSecret" column="appSecret"/>
<result property="signName" column="signName"/>
<result property="shopcode" column="shopcode"/>
</resultMap>
<resultMap type="com.dudu.soa.message.basedata.sms.module.TemplateCode" id="templateCode">
<id property="id" column="id"/>
<result property="shopCode" column="shopcode"/>
<result property="templateCode" column="templateCode"/>
<result property="businessType" column="businessType"/>
</resultMap>

<select id="queryAccessKey" parameterType="String" resultMap="accessKey">
select top 1
 	a.appkey,a.appSecret,a.shopcode,a.shopcode 
FROM 
	SMS_AccessKey a 
where  
	a.shopcode = #{shopCode}

</select>
<select id="queryTemplateCode" parameterType="String" resultMap="templateCode">
select 
	b.businessType,b.shopCode,b.templateCode
 FROM 
 	SMS_TemplateCode b 
where 
	b.shopCode = #{shopCode} 
and 
	businessType = #{businessType}
</select>

</mapper>